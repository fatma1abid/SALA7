<div class="content-wrapper">
    <div class="col-12 grid-margin stretch-card">
        <div class="card">
        <div class="card-body">

            <h4 class="card-title">Ajouter Emprunt livre</h4>
            <div *ngIf="msg">
                <div class="alert alert-success" role="alert">
                    {{msg}}
                </div>
            </div>

            <div *ngIf="error">
                <div class="alert alert-danger" role="alert">
                    {{error}}
                </div>
            </div>

            <form class="forms-sample"  #addEmprunt="ngForm">

                <div class="form-group">
                    <label for="exampleInputName1">Email</label>
                    <input type="email" class="form-control" id="exampleInputName1" rows="4" placeholder="Email" name="email"  required [(ngModel)]="emprunt.etudiant" #email="ngModel" >
                    <div *ngIf="email.invalid && email.touched" class="invalid">
                        <span *ngIf="email.errors?.['required']"> <p> <i class="mdi mdi-alert-circle-outline"></i> Veuillez renseigner votre email </p> 
                        </span>
                        <span *ngIf="email.errors?.['pattern']"> <p> <i class="mdi mdi-alert-circle-outline"></i> Votre email n'est pas valide </p></span>
                    </div>
                </div>


                <div class="form-group">
                    <label for="exampleInputName1">Date début d'emprunt</label>
                    <input type="date" class="form-control" id="exampleInputName1" rows="4" placeholder="Date début d'emprunt" name="dateDebutEmprunt" required [(ngModel)]="emprunt.dateDebutEmprunt" #dateDebutEmprunt="ngModel">
                    <div *ngIf="dateDebutEmprunt.invalid && dateDebutEmprunt.touched" class="invalid">
                        <span *ngIf="dateDebutEmprunt.errors?.['required']"> <p> <i class="mdi mdi-alert-circle-outline"></i> Veuillez renseigner la date debut emprunt </p> 
                        </span>
                    </div>
                  
                </div>
        
                <div class="form-group">
                    <label for="exampleInputName1">Date Fin d'emprunt</label>
                    <input type="date" class="form-control" id="exampleInputName1" rows="4" placeholder="Date fin d'emprunt" name="dateFinEmprunt" required [(ngModel)]="emprunt.dateFinEmprunt" #dateFinEmprunt="ngModel" >
                    <div *ngIf="dateFinEmprunt.invalid && dateDebutEmprunt.touched" class="invalid">
                        <span *ngIf="dateFinEmprunt.errors?.['required']"> <p> <i class="mdi mdi-alert-circle-outline"></i> Veuillez renseigner la date fin emprunt </p> 
                        </span>
                    </div>
                </div>
        
                <div class="form-group">
                    <label for="exampleselectName1">Livre</label>
                    <select class="form-control" id="exampleselectName1" name="livreSelect" [(ngModel)]="emprunt.livre" required #livre="ngModel"> 
                      <option [value]="" selected disabled >Select a livre</option>
                      <option *ngFor="let livre of livreList | async" [value]="livre.idLivre" >
                        {{ livre.titre | titlecase}}
                      </option>
                    </select>
                    <div *ngIf="livre.touched">
                        <div *ngIf="livre.errors?.['required']" class="error">
                          <p> <i class="mdi mdi-alert-circle-outline"></i> Veuillez renseigner le livre </p> 
                        </div>
                    </div>
                </div> 
                 
                    <button type="submit" class="btn btn-primary mr-2" [disabled]="addEmprunt.invalid"  (click)="ajouterEmpruntLivre()" >Ajouter</button>

            </form>
        </div>
        </div>
    </div>
</div>    



